# Детализация эпиков

### Эпик 1: Основа проекта и пользовательский интерфейс

**История 1.1: Настройка проекта**
*   **Как** разработчик, **я хочу** инициализировать новый проект на React с TypeScript, **чтобы** иметь чистую, строго типизированную основу.
*   **Критерии приемки:**
    1.  Проект создан с `Create React App` (TypeScript).
    2.  Установлены `decimal.js`, `styled-components` и их `@types`.
    3.  Создана базовая структура папок (`components`, `core`).
    4.  Проект успешно запускается (`npm start`).

**История 1.2: Устранение уязвимостей в зависимостях (Техническая)**
*   **Как** разработчик, **я хочу** обновить зависимости проекта, **чтобы** устранить критические уязвимости безопасности.
*   **Критерии приемки:**
    1.  Все уязвимости высокого уровня устранены.
    2.  Проект успешно собирается и запускается.
    3.  Принято и задокументировано решение о стратегии обновления.

**История 1.3: Создание компонента "Дисплей"**
*   **Как** пользователь, **я хочу** видеть дисплей калькулятора, **чтобы** видеть результаты.
*   **Критерии приемки:**
    1.  Создан React-компонент `Display`.
    2.  Компонент визуально копирует стиль оригинала.
    3.  Компонент отображает строку из `props`.
    4.  Стили поддерживают специфическое отображение десятичной точки и научной нотации.

**История 1.4: Создание компонента "Кнопка"**
*   **Как** пользователь, **я хочу** видеть кнопки, **чтобы** понимать, какие операции доступны.
*   **Критерии приемки:**
    1.  Создан переиспользуемый React-компонент `Button`.
    2.  Стиль кнопки приближен к оригиналу.
    3.  Есть визуальная обратная связь при наведении и клике.

**История 1.5: Создание сетки кнопок**
*   **Как** пользователь, **я хочу** видеть все 36 кнопок в правильном порядке.
*   **Критерии приемки:**
    1.  Создан компонент `ButtonGrid`.
    2.  Расположение кнопок соответствует оригиналу.

**История 1.6: Сборка основного макета приложения**
*   **Как** разработчик, **я хочу** собрать основной макет, **чтобы** получить полный статический вид.
*   **Критерии приемки:**
    1.  Главный компонент `App` отрисовывает `Display` над `ButtonGrid`.
    2.  На экране виден полный, но не интерактивный макет эмулятора.

### Эпик 2: Реализация вычислительного ядра калькулятора

**История 2.1: Архитектура вычислительного ядра**
*   **Как** разработчик, **я хочу** создать класс/модуль `CalculatorCore`, **чтобы** инкапсулировать всю логику.
*   **Критерии приемки:**
    1.  Создан файл `core/CalculatorCore.ts`.
    2.  Класс содержит структуру для хранения состояния с использованием `Decimal.js`.
    3.  Настроена среда для юнит-тестирования (Jest).

**История 2.2: Разработка логики форматирования вывода для дисплея**
*   **Как** разработчик, **я хочу** иметь функцию форматирования, **чтобы** точно эмулировать дисплей.
*   **Критерии приемки:**
    1.  Функция преобразует `Decimal.js` объект в строку.
    2.  Функция корректно обрабатывает десятичную точку и научную нотацию.
    3.  Функция покрыта юнит-тестами.

**История 2.3: Реализация ввода цифр и управления стеком**
*   **Как** пользователь, **я хочу** вводить числа.
*   **Критерии приемки:**
    1.  В `CalculatorCore` есть методы для ввода цифр и точки.
    2.  Реализована логика стека регистров (операции "Ввод" ↑, "Сброс" Сх).
    3.  Логика покрыта юнит-тестами.

**История 2.4: Реализация базовых арифметических операций**
*   **Как** пользователь, **я хочу** выполнять `+`, `-`, `×`, `÷`.
*   **Критерии приемки:**
    1.  В `CalculatorCore` реализованы методы для этих операций.
    2.  Операции покрыты юнит-тестами.

**История 2.5: Реализация инженерных и специфических функций**
*   **Как** пользователь, **я хочу** использовать все остальные функции.
*   **Критерии приемки:**
    1.  Для каждой из оставшихся кнопок в `CalculatorCore` реализован метод.
    2.  Каждая функция покрыта юнит-тестами.

### Эпик 3: Интеграция, логирование, справка и развертывание

**История 3.1: Интеграция UI с ядром калькулятора**
*   **Как** разработчик, **я хочу** связать UI с ядром, **чтобы** эмулятор стал интерактивным.
*   **Критерии приемки:**
    1.  В `App` создан экземпляр `CalculatorCore` и управляется через `useReducer`.
    2.  Клики по кнопкам вызывают методы `CalculatorCore`.
    3.  Результат из ядра отображается в `Display`.
    4.  Эмулятор полностью функционален.

**История 3.2: Реализация системы логирования**
*   **Как** разработчик, **я хочу** видеть детальные логи, **чтобы** упростить отладку.
*   **Критерии приемки:**
    1.  Создан модуль логгера.
    2.  `CalculatorCore` использует логгер для записи состояния (`DEBUG`) и ошибок (`ERROR`).
    3.  Уровень логирования управляется через `.env`.

**История 3.3: Создание и интеграция компонента "Справка"**
*   **Как** пользователь, **я хочу** иметь доступ к инструкции.
*   **Критерии приемки:**
    1.  Создан React-компонент `HelpModal`.
    2.  В компонент добавлена информация из инструкции.
    3.  На основном экране есть кнопка для открытия/закрытия справки.

**История 3.4: Подготовка к развертыванию**
*   **Как** разработчик, **я хочу** подготовить проект к развертыванию.
*   **Критерии приемки:**
    1.  Создан production-билд (`npm run build`).
    2.  Написан `Dockerfile` и конфиг для `Nginx`.
    3.  Приложение успешно запускается локально в Docker.
    4.  В `README.md` добавлена инструкция по развертыванию.
