# Техническая история: Создание компонента "Кнопка"

- **Статус**: draft
- **Эпик**: 1. Основа проекта и пользовательский интерфейс

---

## 1. Описание

**Как** пользователь, **я хочу** видеть кнопки, **чтобы** понимать, какие операции доступны.

---

## 2. Критерии приемки (AC)

1.  Создан переиспользуемый React-компонент `Button`.
2.  Стиль кнопки приближен к оригиналу.
3.  Есть визуальная обратная связь при наведении и клике.
4.  Компонент принимает текст и обработчик `onClick` через props.

---

## 3. Задачи / Подзадачи

- [ ] **Задача 1: Создание структуры и базовых файлов компонента (AC: 1)**
    - [ ] **Подзадача 1.1:** Создать директорию `src/components/Button`.
    - [ ] **Подзадача 1.2:** Внутри `src/components/Button` создать файл `Button.tsx` со следующим базовым кодом:
        ```tsx
        import React from 'react';
        import styles from './Button.module.css';

        interface ButtonProps {
          label: string;
          onClick: () => void;
        }

        const Button: React.FC<ButtonProps> = ({ label, onClick }) => {
          return (
            <button className={styles.button} onClick={onClick}>
              {label}
            </button>
          );
        };

        export default Button;
        ```
    - [ ] **Подзадача 1.3:** Создать пустой файл стилей `src/components/Button/Button.module.css`.

- [ ] **Задача 2: Стилизация компонента (AC: 2, 3)**
    - [ ] **Подзадача 2.1:** На основе референсов из истории `1.3.5`, в `Button.module.css` добавить стили для класса `.button`, точно эмулирующие внешний вид (цвет, форму, шрифт, тени) кнопок калькулятора.
        ```css
        .button {
          /* Базовые стили */
          border: 1px solid #333;
          background-color: #555;
          color: white;
          padding: 15px;
          text-align: center;
          font-size: 1.2rem;
          cursor: pointer;
          border-radius: 5px;
        }

        .button:hover {
          background-color: #666;
        }

        .button:active {
          background-color: #777;
          transform: translateY(1px);
        }
        ```
    - [ ] **Подзадача 2.2:** Убедиться, что стили для `:hover` и `:active` состояний эмулируют поведение оригинальных кнопок.

- [ ] **Задача 3: Создание базового Unit-теста (AC: 4)**
    - [ ] **Подзадача 3.1:** Создать файл `src/components/Button/Button.test.tsx`.
    - [ ] **Подзадача 3.2:** Написать тест, который проверяет, что компонент `Button` корректно отображает `label` и вызывает `onClick` при нажатии.
        ```tsx
        import { render, screen, fireEvent } from '@testing-library/react';
        import { describe, it, expect, vi } from 'vitest';
        import Button from './Button';

        describe('Button Component', () => {
          it('should render the label', () => {
            render(<Button label="C" onClick={() => {}} />);
            expect(screen.getByText('C')).toBeInTheDocument();
          });

          it('should call onClick handler when clicked', () => {
            const handleClick = vi.fn();
            render(<Button label="=" onClick={handleClick} />);
            fireEvent.click(screen.getByText('='));
            expect(handleClick).toHaveBeenCalledTimes(1);
          });
        });
        ```

---

## 4. Dev Notes

### 4.1. Контекст проекта

- **Стек сборки:** Проект использует **Vite**. [Источник: История 1.2]
- **Тестирование:** Тестовая среда настроена с использованием **Vitest**. Юнит-тесты обязательны для новых компонентов. [Источник: История 1.2]
- **ЗАВИСИМОСТЬ:** Эта история заблокирована до завершения исследовательской истории **`1.3.5: Сбор визуальных референсов`**. Не начинать работу до тех пор, пока PO не предоставит необходимые материалы.

### 4.2. Руководство по архитектуре

- **Расположение файлов:**
    -   Компонент: `src/components/Button/Button.tsx`
    -   Стили: `src/components/Button/Button.module.css`
    -   [Источник: `docs/architecture/рекомендуемая-структура-файлов.md`]
- **Стилизация:**
    -   Рекомендуется использовать **CSS Modules** для инкапсуляции стилей.
    -   [Источник: `docs/architecture/архитектурные-принципы-и-решения.md`]
- **Проектирование компонента:**
    -   `Button.tsx` должен быть "презентационным" (глупым) компонентом. Его задача — отобразить кнопку и передать событие клика "наверх". **Визуальный вид кнопки должен строго соответствовать референсам, собранным в истории 1.3.5.**
    -   [Источник: `docs/architecture/проектирование-компонентов-системы.md`, `docs/prd/цели-дизайна-пользовательского-интерфейса.md`]

---

## 5. Dev Agent Record

*Этот раздел будет заполнен Dev Agent-ом в процессе реализации.*

### План выполнения

1.  [ ] Убедиться, что история `1.3.5` завершена и доступны визуальные референсы.
2.  [ ] Создать структуру и базовые файлы компонента `Button`.
3.  [ ] Стилизовать компонент в соответствии с референсом.
4.  [ ] Создать базовый Unit-тест.
5.  [ ] Интегрировать компонент в `App.tsx` для визуальной проверки (опционально, т.к. полная интеграция будет в истории 1.6).

### Отчет о выполнении

- **Что было сделано:**
- **Принятые решения:**

---
## 6. QA Results

*Этот раздел будет заполнен QA Agent-ом после ревью.*
